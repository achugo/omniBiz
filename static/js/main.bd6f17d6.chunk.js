(this.webpackJsonppowernik=this.webpackJsonppowernik||[]).push([[0],{44:function(e,t,a){e.exports=a(74)},53:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(16),c=a.n(o),r=a(13),s=a(34),m=a(11),u=(a(53),a(6)),i=a(10),p=function(e){var t=e.name;return l.a.createElement("div",{className:"list-employees"},l.a.createElement("span",null,t),l.a.createElement(i.b,{to:"/employee",onClick:function(){localStorage&&localStorage.setItem("selectedUser",t)}},"Enter details"))},d=Object(m.b)((function(e){return{employees:e.employee}}),{addEmployee:function(e){return{type:"ADD_EMPLOYEE",payload:e}}})((function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),o=a[0],c=a[1],r=Object(n.useState)([]),s=Object(u.a)(r,2),m=s[0],i=s[1];Object(n.useEffect)((function(){localStorage.getItem("employees")&&i(localStorage.getItem("employees"))}),[]),Object(n.useEffect)((function(){localStorage.getItem("employees")||localStorage.setItem("employees",JSON.stringify(e.employees))}),[e.employees]);var d=e.employees?e.employees.map((function(e){return l.a.createElement(p,{name:e,key:e})})):m.map((function(e){return l.a.createElement(p,{name:e,key:e})}));return console.log(m,d),l.a.createElement("div",{className:"container employee-listing"},l.a.createElement("div",{className:""},l.a.createElement("span",{className:"title"},"Add Employee Record")),l.a.createElement("div",{className:"row center-form"},l.a.createElement("div",{className:"form-wrapper"},l.a.createElement("form",{className:"form-inline",onSubmit:function(t){t.preventDefault(),e.employees.length<10&&o.length>3?(e.addEmployee(o),console.log(e.employees),localStorage.setItem("employees",JSON.stringify(e.employees))):o.length<=3?alert("input value must be more than 3 letters"):alert("maximum number of employee added"),c("")}},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",value:o,className:"form-control",onChange:function(e){c(e.target.value)},placeholder:"Enter employee name"})),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))),d)})),E=function(){return l.a.createElement("div",{className:"container-fluid text-center"},l.a.createElement("div",{className:"jumbotron"},"Powernik Nigeria Limited"),l.a.createElement(d,null))},v=a(12),f=a(14),y=a.n(f),g=a(23),b=a.n(g),N=a(37),h=a(38),O=a.n(h).a.create({baseURL:"https://randomuser.me"}),S=Object(m.b)((function(e){var t=e.employee,a=e.employeeBonuses,n=e.photos;return console.log(a),{employees:t,employeesBonus:a,photo:n}}),{employeeBonus:function(e){return{type:"ADD_BONUS",payload:e}},generatePhoto:function(){return function(){var e=Object(N.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/api");case 2:a=e.sent,t({type:"FETCH_PHOTO",payload:a.data.results[0].picture.medium});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)("09:00"),a=Object(u.a)(t,2),o=a[0],c=a[1],r=Object(n.useState)("09:00"),s=Object(u.a)(r,2),m=s[0],p=s[1],d=Object(n.useState)("09:00"),E=Object(u.a)(d,2),v=E[0],f=E[1],g=Object(n.useState)("09:00"),b=Object(u.a)(g,2),N=b[0],h=b[1],O=Object(n.useState)("09:00"),S=Object(u.a)(O,2),j=S[0],w=S[1],B=Object(n.useState)(""),k=Object(u.a)(B,2),C=k[0],I=k[1],D=Object(n.useState)(""),x=Object(u.a)(D,2),A=x[0],R=x[1];Object(n.useEffect)((function(){e.generatePhoto(),I(localStorage.getItem("selectedUser"))}),[]),Object(n.useEffect)((function(){localStorage&&localStorage.setItem("bonusRecords",JSON.stringify(e.employeesBonus))}),[e.employeesBonus]);function T(e){var t=e.split(":");return function(e){if(e<540){console.log(e);var t=540-e;return 50*Math.floor(t/5)}return console.log(e),0}(60*Number(t[0])+Number(t[1]))}return console.log(e.employeesBonus,e.photo),l.a.createElement("div",{className:"container employee-entry"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},l.a.createElement("img",{src:e.photo,alt:"random image"})),l.a.createElement("div",{className:"col-7"},C),l.a.createElement("div",{className:"col-2"},l.a.createElement(i.b,{to:"/reports"},"All reports"))),l.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=T(o)+T(m)+T(v)+T(N)+T(j);0==e.employeesBonus.filter((function(e){return e.name===C})).length?(R(a),e.employeeBonus({name:C,bonus:a,photo:e.photo})):alert("employee bonus record already exists")}},l.a.createElement("div",{className:""},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"Monday")),l.a.createElement("div",{className:"col"},l.a.createElement(y.a,{value:o,onChange:function(e){var t=e.target;c(t.value),console.log(o)}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"Tuesday")),l.a.createElement("div",{className:"col"},l.a.createElement(y.a,{value:m,onChange:function(e){var t=e.target;p(t.value)}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"Wednesday")),l.a.createElement("div",{className:"col"},l.a.createElement(y.a,{value:v,onChange:function(e){var t=e.target;f(t.value)}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"Thursday")),l.a.createElement("div",{className:"col"},l.a.createElement(y.a,{value:N,onChange:function(e){var t=e.target;h(t.value)}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"Friday")),l.a.createElement("div",{className:"col"},l.a.createElement(y.a,{value:j,onChange:function(e){var t=e.target;w(t.value)}})))),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Calculate Bonus"))),l.a.createElement("div",{className:""},C," Bonus is ",A))})),j=a(39),w=a(40),B=a(42),k=a(41),C=a(43),I=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(B.a)(this,Object(k.a)(t).call(this,e))).saveSingleReportToLocalStorage=function(e){localStorage&&localStorage.setItem("single_report",e)},a.state={savedEmployees:[]},a}return Object(C.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.setState({savedEmployees:JSON.parse(localStorage.getItem("bonusRecords"))})}},{key:"renderAllEmployees",value:function(){var e=this;return this.state.savedEmployees!==[]?this.state.savedEmployees.map((function(t){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},l.a.createElement("img",{src:t.photo,alt:"profile photo"})),l.a.createElement("div",{className:"col-5"},t.name),l.a.createElement("div",{className:"col-1"},t.bonus),l.a.createElement("div",{className:"col-2"},l.a.createElement(i.b,{to:"/report/".concat(t.name),onClick:e.saveSingleReportToLocalStorage(t.name)},"View Report")))})):l.a.createElement("div",null,"No employees available")}},{key:"render",value:function(){return console.log("this is the saved emplyees",this.state.savedEmployees),l.a.createElement("div",{className:"container"},this.renderAllEmployees())}}]),t}(n.Component),D=Object(m.b)((function(e){return{allEmployees:e.employeeBonuses}}))(I),x=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){c(JSON.parse(localStorage.getItem("bonusRecords")))}),[]),console.log(o);var r=localStorage.getItem("single_report"),s=o&&o.find((function(e){return e.name==r}));return s?l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},l.a.createElement("img",{src:s.photo,alt:"single report photo"})),l.a.createElement("div",{className:"col-5"},s.name),l.a.createElement("div",{className:"col-4"},s.bonus))):l.a.createElement("div",null,"No records available")},A=function(){return l.a.createElement(i.a,null,l.a.createElement(v.c,null,l.a.createElement(v.a,{path:"/employee",component:S}),l.a.createElement(v.a,{path:"/reports",component:D}),l.a.createElement(v.a,{path:"/report/:user",component:x}),l.a.createElement(v.a,{exact:!0,path:"/",component:E})))},R=a(18),T=Object(r.c)({employee:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EMPLOYEE":return[].concat(Object(R.a)(e),[t.payload]);default:return e}},employeeBonuses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BONUS":return[].concat(Object(R.a)(e),[t.payload]);default:return e}},photos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PHOTO":return t.payload;default:return e}}}),_=Object(r.d)(T,Object(r.a)(s.a));c.a.render(l.a.createElement(m.a,{store:_},l.a.createElement(A,null)),document.querySelector("#root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.bd6f17d6.chunk.js.map